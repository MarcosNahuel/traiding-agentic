# ============================================================
# Trading Backend - Variables de entorno
# Copiar a .env y completar con valores reales
# ============================================================

# --- Supabase ---
SUPABASE_URL=https://<project>.supabase.co
SUPABASE_SERVICE_ROLE_KEY=<service_role_key>

# --- Binance ---
BINANCE_PROXY_URL=https://binance.italicia.com
BINANCE_PROXY_AUTH_SECRET=
BINANCE_TESTNET_API_KEY=
BINANCE_TESTNET_SECRET=
BINANCE_ENV=testnet   # "testnet" | "mainnet"

# --- Backend ---
PORT=8000
NODE_ENV=production

# Kill switch: cambiar a True para habilitar ejecución real de trades
TRADING_ENABLED=False

# Secreto compartido Next.js → Python (OBLIGATORIO en producción)
BACKEND_SECRET=

# Orígenes CORS permitidos (separados por coma)
ALLOWED_ORIGINS=http://localhost:3000,https://traiding-agentic.vercel.app

# --- Telegram (opcional) ---
TELEGRAM_BOT_TOKEN=
TELEGRAM_CHAT_ID=

# --- Risk Manager ---
RISK_MAX_POSITION_SIZE=500.0       # USD máximo por posición
RISK_MIN_POSITION_SIZE=10.0        # USD mínimo por posición
RISK_MAX_DAILY_LOSS=200.0          # Pérdida diaria máxima en USD
RISK_MAX_DRAWDOWN=1000.0           # Drawdown máximo acumulado en USD
RISK_MAX_OPEN_POSITIONS=3          # Posiciones abiertas simultáneas
RISK_MAX_POSITIONS_PER_SYMBOL=1    # Posiciones por símbolo
RISK_MIN_ACCOUNT_BALANCE=1000.0    # Balance mínimo para operar
RISK_MAX_ACCOUNT_UTILIZATION=0.8   # % máximo del balance en posiciones (0-1)
RISK_AUTO_APPROVAL_THRESHOLD=100.0 # Notional por debajo del cual se auto-aprueba

# --- Quant Engine ---
QUANT_ENABLED=True
QUANT_PRIMARY_INTERVAL=1h
QUANT_SYMBOLS=BTCUSDT,ETHUSDT,SOLUSDT,BNBUSDT,XRPUSDT
ENTROPY_WINDOW=100
ENTROPY_BINS=10
ENTROPY_THRESHOLD_RATIO=0.85
KELLY_DAMPENER=0.5
ATR_MULTIPLIER=2.0
MAX_RISK_PER_TRADE_PCT=0.02
KLINE_BACKFILL_DAYS=30
SR_CLUSTERS=8
SR_LOOKBACK=500
